<html>

  <head>
    <title>
      IMAGE_DENOISE - Remove Noise from an Image
    </title>
  </head>

  <body bgcolor="#EEEEEE" link="#CC0000" alink="#FF3300" vlink="#000055">

    <h1 align = "center">
      IMAGE_DENOISE <br> Remove Noise from an Image
    </h1>

    <hr>

    <p>
      <b>IMAGE_DENOISE</b>
      is a FORTRAN90 library which
      uses the median filter to try to remove noise from an image.
    </p>

    <p>
      A gray scale image can be represented using a 2D array of nonnegative 
      integers over some range 0 to GMAX.
      The value 0 indicates black, and GMAX white.  Intermediate values
      represent shades of gray in a natural way.  Note, however, that
      the eye has a nonlinear response to intensity, so that the value
      GMAX/2 will not be perceived as halfway between 0 and GMAX.  That
      is a separate issue.
    </p>

    <p>
      A color image can be represented using a set of three 2D arrays,
      which can be thought of as R, G, and B, and which represent the
      intensity of the red, green and blue signals that combine to
      form the color image.  A common maximum value is assumed, RGBMAX.
    </p>

    <p>
      The ASCII PGM and PPM formats are a convenient, if somewhat inefficient,
      way to store such images.  These ASCII formats are easy to read and
      write from a program.
    </p>

    <p>
      In the example considered here, a good image is damaged by the addition of
      "salt and pepper" noise; that is, a scattering of individual pixels have
      been randomly reset to the lowest or highest possible values.  In a
      gray scale picture, such noise looks as though salt and pepper were
      added to the picture.
    </p>

    <p>
      <image src = "balloons_noisy.png" WIDTH=320 HEIGHT=240
      ALT="A Noisy Image">
    </p>

    <p>
      Since an image is fairly "smooth", each good pixel should actually be
      fairly close to the values of good pixels nearby, while this will not
      be true for the salt and pepper pixels.  So one way to make the noise
      go away, at the cost of some minor blurring, is to replace each pixel
      by the median value of itself and its neighbors.
    </p>

    <p>
      There are sophisticated programs for applying the filters to a noisy
      image,  with the user allowed to specify the shape of a rectangular neighborhood
      about each pixel.  However, in this example, we go through some of
      the lower level details "by hand", applying simple versions of the median
      filter, in which each pixel is replaced by the median of nearby values.
    </p>

    <h3 align = "center">
      Licensing:
    </h3>

    <p>
      The computer code and data files described and made available on this
      web page are distributed under
      <a href = "../../txt/gnu_lgpl.txt">the GNU LGPL license.</a>
    </p>

    <h3 align = "center">
      Languages:
    </h3>

    <p>
      <b>IMAGE_DENOISE</b> is available in
      <a href = "../../c_src/image_denoise/image_denoise.html">a C version</a> and
      <a href = "../../cpp_src/image_denoise/image_denoise.html">a C++ version</a> and
      <a href = "../../f77_src/image_denoise/image_denoise.html">a FORTRAN77 version</a> and
      <a href = "../../f_src/image_denoise/image_denoise.html">a FORTRAN90 version</a> and
      <a href = "../../m_src/image_denoise/image_denoise.html">a MATLAB version</a>.
    </p>


    <h3 align = "center">
      Related Data and Programs:
    </h3>

    <p>
      <a href = "../../f_src/image_components/image_components.html">
      IMAGE_COMPONENTS</a>,
      a FORTRAN90 library which
      seeks the connected "nonzero" or "nonblack" components or "segments"
      of an image or integer vector, array or 3D block.
    </p>

    <p>
      <a href = "../../f_src/image_edge/image_edge.html">
      IMAGE_EDGE</a>,
      a FORTRAN90 library which
      demonstrates a simple procedure for edge detection in images.
    </p>

    <p>
      <a href = "../../f_src/pgma_io/pgma_io.html">
      PGMA_IO<a>,
      a FORTRAN90 library which
      handles the ASCII Portable Gray Map (PGM) format.
    </p>

    <h3 align = "center">
      Reference:
    </h3>

    <p>
      <ol>
        <li>
          Jonas Gomes, Luiz Velho,<br>
          Image Processing for Computer Graphics,<br>
          Springer, 1997,<br>
          ISBN: 0387948546,<br>
          LC: T385.G65.
        </li>
        <li>
          William Pratt,<br>
          Digital Image Processing,<br>
          Second Edition,<br>
          Wiley, 1991,<br>
          ISBN13: 978-0471857662,<br>
          LC: TA1632.P7.
        </li>
      </ol>
    </p>

    <h3 align = "center">
      Source Code:
    </h3>

    <p>
      <ul>
        <li>
          <a href = "image_denoise.f90">image_denoise.f90</a>, the source code.
        </li>
        <li>
          <a href = "image_denoise.sh">image_denoise.sh</a>,
          BASH commands to compile the source code.
        </li>
      </ul>
    </p>

    <h3 align = "center">
      Examples and Tests:
    </h3>

    <p>
      <ul>
        <li>
          <a href = "image_denoise_prb.f90">image_denoise_prb.f90</a>,
          a sample calling program.
        </li>
        <li>
          <a href = "image_denoise_prb.sh">image_denoise_prb.sh</a>,
          BASH commands to compile and run the sample program.
        </li>
        <li>
          <a href = "image_denoise_prb_output.txt">image_denoise_prb_output.txt</a>,
          the output file.
        </li>
      </ul>
    </p>

    <p>
      <b>BALLOONS</b> is an RGB image of a couple with balloons, to which salt and pepper
      noise has been added.
      <ul>
        <li>
          <a href = "balloons_noisy.ascii.pgm">balloons_noisy.ascii.pgm</a>,
          the ASCII PGM file of glassware, with added noise.
        </li>
        <li>
          <a href = "balloons_noisy.png">balloons_noisy.png</a>,
          a PNG version.
        </li>
      </ul>
    </p>

    <p>
      <b>GLASSWARE</b> is a grayscale image of glassware, to which salt and pepper
      noise has been added.
      <ul>
        <li>
          <a href = "glassware_noisy.ascii.pgm">glassware_noisy.ascii.pgm</a>,
          the ASCII PGM file of glassware, with added noise.
        </li>
        <li>
          <a href = "glassware_noisy.png">glassware_noisy.png</a>,
          a PNG version.
        </li>
        <li>
          <a href = "glassware_median_news.ascii.pgm">glassware_median_news.ascii.pgm</a>,
          the ASCII PGM file of glassware, after the noise has been filtered using
          the median NEWS filter.
        </li>
        <li>
          <a href = "glassware_median_news.png">glassware_median_news.png</a>,
          a PNG version.
        </li>
      </ul>
    </p>

    <h3 align = "center">
      List of Routines:
    </h3>

    <p>
      <ul>
        <li>
          <b>CH_CAP</b> capitalizes a single character.
        </li>
        <li>
          <b>GET_UNIT</b> returns a free FORTRAN unit number.
        </li>
        <li>
          <b>GETINT</b> reads an integer from a file.
        </li>
        <li>
          <b>GRAY_MEDIAN_NEWS</b> uses a median NEWS filter on a gray scale image to remove noise.
        </li>
        <li>
          <b>I4VEC_FRAC</b> searches for the K-th smallest element in an I4VEC.
        </li>
        <li>
          <b>I4VEC_MEDIAN</b> returns the median of an unsorted I4VEC.
        </li>
        <li>
          <b>PGMA_READ_DATA</b> reads the data in an ASCII PGM file.
        </li>
        <li>
          <b>PGMA_READ_HEADER</b> reads the header of an ASCII PGM file.
        </li>
        <li>
          <b>PGMA_WRITE</b> writes an ASCII PGM file.
        </li>
        <li>
          <b>PGMA_WRITE_DATA</b> writes the data of an ASCII PGM file.
        </li>
        <li>
          <b>PGMA_WRITE_HEADER</b> writes the header of an ASCII PGM file.
        </li>
        <li>
          <b>S_EQI</b> is a case insensitive comparison of two strings for equality.
        </li>
        <li>
          <b>S_TO_I4</b> reads an I4 from a string.
        </li>
        <li>
          <b>TIMESTAMP</b> prints the current YMDHMS date as a time stamp.
        </li>
        <li>
          <b>WORD_NEXT_RD</b> "reads" words from a string, one at a time.
        </li>
      </ul>
    </p>

    <p>
      You can go up one level to <a href = "../f_src.html">
      the FORTRAN90 source codes</a>.
    </p>

    <hr>

    <i>
      Last revised on 27 August 2011.
    </i>

    <!-- John Burkardt -->

  </body>

  <!-- Initial HTML skeleton created by HTMLINDEX. -->

</html>
